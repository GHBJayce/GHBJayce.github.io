<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='é˜…è¯»è¯´æ˜ è½¯ä»¶ç‰ˆæœ¬ Laravel v11.9.2 å‰è¨€ ä¸»è¦ä»‹ç»singletonåšäº†å“ªäº›äº‹æƒ…ã€ä½œç”¨ã€ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšä»¥åŠæœ€ç»ˆè°ƒç”¨æ—¶ï¼ˆmakeï¼‰çš„è¿‡ç¨‹ã€‚
æ¶‰åŠåˆ°singletonå’Œmakeçš„æºç è¿‡ç¨‹ã€‚
Illuminate\Container\Container::singleton ç»‘å®šä¸€ä¸ªå•ä¾‹ï¼Œå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š
singletonÂ æ–¹æ³•ï¼ˆç»‘å®šå•ä¾‹ï¼‰å°†ç±»æˆ–æ¥å£ç»‘å®šåˆ°å®¹å™¨ä¸­ï¼Œè¯¥ç±»æˆ–æ¥å£åªèƒ½è§£æä¸€æ¬¡ã€‚ä¸€æ—¦è§£å†³äº†å•ä¸€å®ä¾‹ç»‘å®šï¼Œåœ¨å¯¹å®¹å™¨çš„åç»­è°ƒç”¨ä¸­ï¼Œå°†è¿”å›ç›¸åŒçš„å¯¹è±¡å®ä¾‹ï¼š
çœ‹å®Œæœ¬æ–‡ä»¥åå¥½å¥½ç»†å“è¿™æ®µè§£é‡Šã€‚
1 2 3 4 5 6 7 use App\Services\Transistor; use App\Services\PodcastParser; use Illuminate\Contracts\Foundation\Application; $this-&amp;gt;app-&amp;gt;singleton(Transistor::class, function (Application $app) { return new Transistor($app-&amp;gt;make(PodcastParser::class)); }); ä¸Šæºç Illuminate\Container\Containerï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 /** * The container&amp;#39;s bindings.'>
<title>Laravelæºç é˜…è¯»ä¹‹Container singletonä¸make</title>

<link rel='canonical' href='/p/language/php/laravel/container-singleton/'>

<link rel="stylesheet" href="/scss/style.min.16bf79fde71ad0826cb332f8a542083f14a167d38adecffbc10e3a04b834c453.css"><meta property='og:title' content='Laravelæºç é˜…è¯»ä¹‹Container singletonä¸make'>
<meta property='og:description' content='é˜…è¯»è¯´æ˜ è½¯ä»¶ç‰ˆæœ¬ Laravel v11.9.2 å‰è¨€ ä¸»è¦ä»‹ç»singletonåšäº†å“ªäº›äº‹æƒ…ã€ä½œç”¨ã€ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšä»¥åŠæœ€ç»ˆè°ƒç”¨æ—¶ï¼ˆmakeï¼‰çš„è¿‡ç¨‹ã€‚
æ¶‰åŠåˆ°singletonå’Œmakeçš„æºç è¿‡ç¨‹ã€‚
Illuminate\Container\Container::singleton ç»‘å®šä¸€ä¸ªå•ä¾‹ï¼Œå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š
singletonÂ æ–¹æ³•ï¼ˆç»‘å®šå•ä¾‹ï¼‰å°†ç±»æˆ–æ¥å£ç»‘å®šåˆ°å®¹å™¨ä¸­ï¼Œè¯¥ç±»æˆ–æ¥å£åªèƒ½è§£æä¸€æ¬¡ã€‚ä¸€æ—¦è§£å†³äº†å•ä¸€å®ä¾‹ç»‘å®šï¼Œåœ¨å¯¹å®¹å™¨çš„åç»­è°ƒç”¨ä¸­ï¼Œå°†è¿”å›ç›¸åŒçš„å¯¹è±¡å®ä¾‹ï¼š
çœ‹å®Œæœ¬æ–‡ä»¥åå¥½å¥½ç»†å“è¿™æ®µè§£é‡Šã€‚
1 2 3 4 5 6 7 use App\Services\Transistor; use App\Services\PodcastParser; use Illuminate\Contracts\Foundation\Application; $this-&amp;gt;app-&amp;gt;singleton(Transistor::class, function (Application $app) { return new Transistor($app-&amp;gt;make(PodcastParser::class)); }); ä¸Šæºç Illuminate\Container\Containerï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 /** * The container&amp;#39;s bindings.'>
<meta property='og:url' content='/p/language/php/laravel/container-singleton/'>
<meta property='og:site_name' content='GHJayce'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='PHP' /><meta property='article:tag' content='Laravel' /><meta property='article:tag' content='æºç é˜…è¯»' /><meta property='article:published_time' content='2024-08-15T15:08:14&#43;08:00'/><meta property='article:modified_time' content='2024-08-15T15:08:14&#43;08:00'/>
<meta name="twitter:title" content="Laravelæºç é˜…è¯»ä¹‹Container singletonä¸make">
<meta name="twitter:description" content="é˜…è¯»è¯´æ˜ è½¯ä»¶ç‰ˆæœ¬ Laravel v11.9.2 å‰è¨€ ä¸»è¦ä»‹ç»singletonåšäº†å“ªäº›äº‹æƒ…ã€ä½œç”¨ã€ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšä»¥åŠæœ€ç»ˆè°ƒç”¨æ—¶ï¼ˆmakeï¼‰çš„è¿‡ç¨‹ã€‚
æ¶‰åŠåˆ°singletonå’Œmakeçš„æºç è¿‡ç¨‹ã€‚
Illuminate\Container\Container::singleton ç»‘å®šä¸€ä¸ªå•ä¾‹ï¼Œå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š
singletonÂ æ–¹æ³•ï¼ˆç»‘å®šå•ä¾‹ï¼‰å°†ç±»æˆ–æ¥å£ç»‘å®šåˆ°å®¹å™¨ä¸­ï¼Œè¯¥ç±»æˆ–æ¥å£åªèƒ½è§£æä¸€æ¬¡ã€‚ä¸€æ—¦è§£å†³äº†å•ä¸€å®ä¾‹ç»‘å®šï¼Œåœ¨å¯¹å®¹å™¨çš„åç»­è°ƒç”¨ä¸­ï¼Œå°†è¿”å›ç›¸åŒçš„å¯¹è±¡å®ä¾‹ï¼š
çœ‹å®Œæœ¬æ–‡ä»¥åå¥½å¥½ç»†å“è¿™æ®µè§£é‡Šã€‚
1 2 3 4 5 6 7 use App\Services\Transistor; use App\Services\PodcastParser; use Illuminate\Contracts\Foundation\Application; $this-&amp;gt;app-&amp;gt;singleton(Transistor::class, function (Application $app) { return new Transistor($app-&amp;gt;make(PodcastParser::class)); }); ä¸Šæºç Illuminate\Container\Containerï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 /** * The container&amp;#39;s bindings.">
    <link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/17669653" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    <img src="https://avatars.githubusercontent.com/u/17669653" width="300" height="300" class="site-logo" loading="lazy" alt="Avatar">
                
                </a>
                
                    <span class="emoji">ğŸ˜†</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">GHJayce</a></h1>
            <h2 class="site-description">åå¹´é¥®å†°ï¼Œéš¾å‡‰çƒ­è¡€ã€‚</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/GHJayce'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äºæˆ‘</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archive/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>æš—è‰²æ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#é˜…è¯»è¯´æ˜">é˜…è¯»è¯´æ˜</a>
      <ol>
        <li><a href="#è½¯ä»¶ç‰ˆæœ¬">è½¯ä»¶ç‰ˆæœ¬</a></li>
        <li><a href="#å‰è¨€">å‰è¨€</a></li>
      </ol>
    </li>
    <li><a href="#illuminatecontainercontainersingleton">Illuminate\Container\Container::singleton</a>
      <ol>
        <li><a href="#ç–‘é—®">ç–‘é—®</a></li>
      </ol>
    </li>
    <li><a href="#ä¾‹å­">ä¾‹å­</a>
      <ol>
        <li><a href="#ä¾‹å­a">ä¾‹å­A</a>
          <ol>
            <li><a href="#a1">A1</a></li>
            <li><a href="#a2">A2</a></li>
          </ol>
        </li>
        <li><a href="#ä¾‹å­b">ä¾‹å­B</a></li>
        <li><a href="#ä¾‹å­c">ä¾‹å­C</a></li>
      </ol>
    </li>
    <li><a href="#æ€»ç»“">æ€»ç»“</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/" >
                ç¨‹åºè®¾è®¡è¯­è¨€
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/language/php/laravel/container-singleton/">Laravelæºç é˜…è¯»ä¹‹Container singletonä¸make</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-08-15</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 12 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="é˜…è¯»è¯´æ˜">é˜…è¯»è¯´æ˜</h2>
<h3 id="è½¯ä»¶ç‰ˆæœ¬">è½¯ä»¶ç‰ˆæœ¬</h3>
<ul>
<li>Laravel v11.9.2</li>
</ul>
<h3 id="å‰è¨€">å‰è¨€</h3>
<p>ä¸»è¦ä»‹ç»singletonåšäº†å“ªäº›äº‹æƒ…ã€ä½œç”¨ã€ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšä»¥åŠæœ€ç»ˆè°ƒç”¨æ—¶ï¼ˆmakeï¼‰çš„è¿‡ç¨‹ã€‚</p>
<p>æ¶‰åŠåˆ°singletonå’Œmakeçš„æºç è¿‡ç¨‹ã€‚</p>
<h2 id="illuminatecontainercontainersingleton">Illuminate\Container\Container::singleton</h2>
<p><a class="link" href="https://laravel.com/docs/11.x/container#binding-a-singleton"  target="_blank" rel="noopener"
    >ç»‘å®šä¸€ä¸ªå•ä¾‹</a>ï¼Œå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š</p>
<p><code>singleton</code>Â æ–¹æ³•ï¼ˆç»‘å®šå•ä¾‹ï¼‰å°†ç±»æˆ–æ¥å£ç»‘å®šåˆ°å®¹å™¨ä¸­ï¼Œè¯¥ç±»æˆ–æ¥å£åªèƒ½è§£æä¸€æ¬¡ã€‚ä¸€æ—¦è§£å†³äº†å•ä¸€å®ä¾‹ç»‘å®šï¼Œåœ¨å¯¹å®¹å™¨çš„åç»­è°ƒç”¨ä¸­ï¼Œå°†è¿”å›ç›¸åŒçš„å¯¹è±¡å®ä¾‹ï¼š</p>
<blockquote>
<p>çœ‹å®Œæœ¬æ–‡ä»¥åå¥½å¥½ç»†å“è¿™æ®µè§£é‡Šã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">App\Services\Transistor</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">App\Services\PodcastParser</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Contracts\Foundation\Application</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="nx">Transistor</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Application</span> <span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">new</span> <span class="nx">Transistor</span><span class="p">(</span><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nx">PodcastParser</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šæºç <code>Illuminate\Container\Container</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * The container&#39;s bindings.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @var array[]
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="nv">$bindings</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * The container&#39;s shared instances.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @var object[]
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="nv">$instances</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * The registered type aliases.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @var string[]
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="nv">$aliases</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * An array of the types that have been resolved.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @var bool[]
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="nv">$resolved</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * All of the registered rebound callbacks.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @var array[]
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="nv">$reboundCallbacks</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Register a shared binding in the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Closure|string|null  $concrete
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">singleton</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Register a binding with the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Closure|string|null  $concrete
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  bool  $shared
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \TypeError
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">bind</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$shared</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dropStaleInstances</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If no concrete type was given, we will simply set the concrete type to the
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// abstract type. After that, the concrete type to be registered as shared
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// without being forced to state their classes in both of the parameters.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$concrete</span> <span class="o">=</span> <span class="nv">$abstract</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If the factory is not a Closure, it means it is just a class name which is
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// bound into this container to the abstract type and we will just wrap it
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// up inside its own Closure to give us more convenience when extending.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nv">$concrete</span> <span class="nx">instanceof</span> <span class="nx">Closure</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">is_string</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="o">.</span><span class="s1">&#39;::bind(): Argument #2 ($concrete) must be of type Closure|string|null&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nv">$concrete</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getClosure</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bindings</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">=</span> <span class="nx">compact</span><span class="p">(</span><span class="s1">&#39;concrete&#39;</span><span class="p">,</span> <span class="s1">&#39;shared&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If the abstract type was already resolved in this container we&#39;ll fire the
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// rebound listener so that any objects which have already gotten resolved
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// can have their copy of the object updated via the listener callbacks.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolved</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rebound</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Drop all of the stale instances and aliases.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">dropStaleInstances</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">unset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">],</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aliases</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get the Closure to be used when building a type.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $concrete
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return \Closure
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">getClosure</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$container</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$concrete</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$abstract</span> <span class="o">==</span> <span class="nv">$concrete</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">resolve</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$concrete</span><span class="p">,</span> <span class="nv">$parameters</span><span class="p">,</span> <span class="nv">$raiseEvents</span> <span class="o">=</span> <span class="k">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Determine if the given abstract type has been resolved.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">resolved</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isAlias</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$abstract</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAlias</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolved</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">])</span> <span class="o">||</span>
</span></span><span class="line"><span class="cl">           <span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Determine if a given string is an alias.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $name
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">isAlias</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aliases</span><span class="p">[</span><span class="nv">$name</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get the alias for an abstract if available.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return string
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">getAlias</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aliases</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="o">?</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAlias</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aliases</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="o">:</span> <span class="nv">$abstract</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Fire the &#34;rebound&#34; callbacks for the given abstract type.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">rebound</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$instance</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getReboundCallbacks</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$callback</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$callback</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$instance</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get the rebound callbacks for a given type.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return array
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">getReboundCallbacks</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reboundCallbacks</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">??</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>åœ¨è¿™é‡Œä½ å¯ä»¥æŠŠmakeæƒ³è±¡æˆä¸€ä¸ªé»‘åŒ£å­ï¼Œå®ƒä¼šæŠŠä½ ç»™çš„æŠ½è±¡å¤„ç†æˆå®ä¾‹è¿”å›ç»™ä½ ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæ›¿ä½ è§£å†³æŠ½è±¡æ‰€éœ€çš„å„ç§ä¾èµ–å‚æ•°ï¼ˆè¿™å°±æ˜¯ä¾èµ–æ³¨å…¥<code>dependency injection</code>ï¼‰ã€‚</p>
</blockquote>
<p>é‡ç‚¹çœ‹<code>bind()</code>æ–¹æ³•åšçš„äº‹æƒ…ï¼š</p>
<ul>
<li>P1ï¼šåˆ é™¤è¿‡æ—¶çš„å®ä¾‹ã€‚</li>
<li>P2ï¼šå…·ä½“ï¼ˆconcreteï¼‰æ˜¯ç©ºæ—¶ï¼Œå…·ä½“å°±æ˜¯æŠ½è±¡ï¼ˆabstractï¼‰ã€‚</li>
<li>P3ï¼šå…·ä½“ä¸æ˜¯åŒ¿åå‡½æ•°ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œå°†å…·ä½“å¤„ç†æˆåŒ¿åå‡½æ•°ã€‚</li>
<li>P4ï¼šå°†æŠ½è±¡å’Œå…·ä½“ï¼ˆæ­¤æ—¶æ˜¯åŒ¿åå‡½æ•°ï¼‰ä½œä¸ºkey valueï¼Œè®¾ç½®åˆ°æ­£åœ¨ç»‘å®šä¸­çš„å¯¹è±¡ï¼ˆbindingsï¼‰ã€‚</li>
<li>P5ï¼šå½“æŠ½è±¡å·²è¢«è§£å†³ï¼ˆresolvedï¼‰æˆ–è€…å·²æœ‰å®ä¾‹ï¼ˆinstancesï¼‰æ—¶ï¼Œè¿›è¡Œç¯®æ¿çƒï¼ˆreboundï¼‰å¤„ç†ï¼Œå°†æŠ½è±¡é‡æ–°å®ä¾‹åŒ–å¹¶è°ƒç”¨æŠ½è±¡è®¾ç½®çš„å›è°ƒå‡½æ•°ï¼ˆreboundCallbacksï¼‰ã€‚</li>
</ul>
<h3 id="ç–‘é—®">ç–‘é—®</h3>
<ul>
<li>Q1ï¼šP1ä¸ºä»€ä¹ˆéœ€è¦ä»å·²æœ‰å®ä¾‹å’Œåˆ«åä¸­åˆ é™¤æŠ½è±¡ï¼Ÿ</li>
<li>Q2ï¼šP2ä»€ä¹ˆæƒ…å†µä¸‹å…·ä½“å¯ä»¥æ˜¯ç©ºçš„ï¼Ÿ</li>
<li>Q3ï¼šP3ä¸ºä»€ä¹ˆè¦å°†å…·ä½“å¤„ç†æˆåŒ¿åå‡½æ•°ï¼Œç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>Q4ï¼šP4è®¾ç½®åˆ°æ­£åœ¨ç»‘å®šä¸­çš„å¯¹è±¡çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>Q5ï¼šP5ä»€ä¹ˆåœºæ™¯ä¸‹éœ€è¦æ‰§è¡Œç¯®æ¿çƒï¼Ÿ</li>
<li>Q6ï¼šç»‘å®šçš„å•ä¾‹ä»€ä¹ˆæ—¶å€™ä¼šè¢«è°ƒç”¨ï¼Ÿ</li>
</ul>
<h2 id="ä¾‹å­">ä¾‹å­</h2>
<p>æ¥çœ‹å…·ä½“çš„è°ƒç”¨ä¾‹å­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Foundation\PackageManifest</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Foundation\Mix</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Filesystem\Filesystem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä¾‹å­A
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="nx">PackageManifest</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">PackageManifest</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Filesystem</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">basePath</span><span class="p">(),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getCachedPackagesPath</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä¾‹å­B
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="nx">Mix</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ä¾‹å­C
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">\Illuminate\Contracts\Http\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">\Illuminate\Foundation\Http\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä¾‹å­a">ä¾‹å­A</h3>
<p>å®šä¹‰å¤„<code>\Illuminate\Foundation\Application</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Register the basic bindings into the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">registerBaseBindings</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">static</span><span class="o">::</span><span class="na">setInstance</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instance</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instance</span><span class="p">(</span><span class="nx">Container</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="nx">Mix</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="nx">PackageManifest</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">PackageManifest</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Filesystem</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">basePath</span><span class="p">(),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getCachedPackagesPath</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è°ƒç”¨æœ‰ä¸¤å¤„ï¼š</p>
<ul>
<li>A1ï¼š<code>\Illuminate\Foundation\Bootstrap\RegisterFacades::bootstrap</code>ã€‚</li>
<li>A2ï¼š<code>\Illuminate\Foundation\Application::registerConfiguredProviders</code>ã€‚</li>
</ul>
<blockquote>
<p>A1è¦æ¯”A2å…ˆè°ƒç”¨ã€‚</p>
</blockquote>
<h4 id="a1">A1</h4>
<p>å…ˆæ¥çœ‹A1ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Bootstrap the given application.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Illuminate\Contracts\Foundation\Application  $app
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">bootstrap</span><span class="p">(</span><span class="nx">Application</span> <span class="nv">$app</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Facade</span><span class="o">::</span><span class="na">clearResolvedInstances</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">Facade</span><span class="o">::</span><span class="na">setFacadeApplication</span><span class="p">(</span><span class="nv">$app</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">AliasLoader</span><span class="o">::</span><span class="na">getInstance</span><span class="p">(</span><span class="nx">array_merge</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;app.aliases&#39;</span><span class="p">,</span> <span class="p">[]),</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nx">PackageManifest</span><span class="o">::</span><span class="na">class</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">aliases</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">))</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†makeè¿›è¡Œå®ä¾‹åŒ–ã€‚</p>
<p>makeå…³é”®ä»£ç <code>\Illuminate\Foundation\Application</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Resolve the given type from the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  array  $parameters
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return mixed
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">make</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">loadDeferredProviderIfNeeded</span><span class="p">(</span><span class="nv">$abstract</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getAlias</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>\Illuminate\Container\Container</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Resolve the given type from the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string|callable  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  array  $parameters
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return mixed
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \Illuminate\Contracts\Container\BindingResolutionException
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">make</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolve</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Resolve the given type from the container.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string|callable  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  array  $parameters
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  bool  $raiseEvents
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return mixed
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \Illuminate\Contracts\Container\BindingResolutionException
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \Illuminate\Contracts\Container\CircularDependencyException
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">resolve</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$raiseEvents</span> <span class="o">=</span> <span class="k">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">))</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="nv">$concrete</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getConcrete</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// We&#39;re ready to instantiate an instance of the concrete type registered for
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// the binding. This will instantiate the types, as well as resolve any of
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// its &#34;nested&#34; dependencies recursively until all have gotten resolved.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nv">$object</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isBuildable</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">,</span> <span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">?</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">:</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If the requested type is registered as a singleton we&#39;ll want to cache off
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// the instances in &#34;memory&#34; so we can return it later without creating an
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// entirely new instance of an object on each subsequent request for it.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isShared</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="nv">$needsContextualBuild</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$object</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Before returning, we will also set the resolved flag to &#34;true&#34; and pop off
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// the parameter overrides for this build. After those two things are done
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// we will be ready to return back the fully constructed class instance.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolved</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$object</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Get the concrete type for a given abstract.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string|callable  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return mixed
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">getConcrete</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// If we don&#39;t have a registered resolver or concrete for the type, we&#39;ll just
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// assume each type is a concrete name and will attempt to resolve it as is
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// since the container should be able to resolve concretes automatically.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bindings</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bindings</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">][</span><span class="s1">&#39;concrete&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$abstract</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Determine if the given concrete is buildable.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  mixed  $concrete
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  string  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return bool
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">isBuildable</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">,</span> <span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$concrete</span> <span class="o">===</span> <span class="nv">$abstract</span> <span class="o">||</span> <span class="nv">$concrete</span> <span class="nx">instanceof</span> <span class="nx">Closure</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Instantiate a concrete instance of the given type.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Closure|string  $concrete
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return mixed
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \Illuminate\Contracts\Container\BindingResolutionException
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @throws \Illuminate\Contracts\Container\CircularDependencyException
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// If the concrete type is actually a Closure, we will just execute it and
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// hand back the results of the functions, which allows functions to be
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// used as resolvers for more fine-tuned resolution of these objects.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$concrete</span> <span class="nx">instanceof</span> <span class="nx">Closure</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$concrete</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getLastParameterOverride</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¾‹å­Aç»è¿‡ç»‘å®šå•ä¾‹å¤„ç†åï¼Œ<code>bindings</code>å¯¹åº”ç»“æ„åœ¨makeè°ƒç”¨æ—¶å¤§è‡´å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;Illuminate\Foundation\PackageManifest&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;shared&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;concrete&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">new</span> <span class="nx">PackageMainifest</span><span class="p">(</span><span class="k">new</span> <span class="nx">Filesystem</span><span class="p">,</span> <span class="s1">&#39;/system_path/path/your_project&#39;</span><span class="p">,</span> <span class="s1">&#39;/system_path/path/your_project/bootstrap/cache/packages.php&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„è¿™é‡Œconcreteå±•ç¤ºçš„åŒ¿åå‡½æ•°ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºç¨ä½œäº†å¤„ç†ã€‚</p>
</blockquote>
<p>makeä»<code>bindings.Illuminate\Foundation\PackageManifest.concrete</code>å–å‡ºåŒ¿åå‡½æ•°ï¼Œå†è¿›åˆ°<code>build()</code>å‡½æ•°ä¸­æ‰§è¡Œäº†è¯¥åŒ¿åå‡½æ•°ã€‚</p>
<p>å› ä¸ºsingletonï¼ˆ<code>shared: true</code>ï¼‰çš„ç¼˜æ•…ï¼Œé¦–æ¬¡makeæ—¶ï¼ˆæŒ‡A1ï¼‰ä¼šæŠŠå®ä¾‹ï¼ˆconcreteåŒ¿åå‡½æ•°çš„è°ƒç”¨ç»“æœï¼‰è®¾ç½®åˆ°å®¹å™¨çš„<code>instances</code>æˆå‘˜å±æ€§ä¸­ï¼Œåç»­å†makeçš„æ—¶å€™ï¼ˆæŒ‡A2ï¼‰ä¼šç›´æ¥ä»<code>instances</code>ä¸­å–å‡ºã€‚</p>
<p>è¿™æ ·å®ç°çš„å¥½å¤„ï¼š</p>
<ul>
<li><strong>å¯ä»¥åœ¨éœ€è¦ç”¨åˆ°æŠ½è±¡çš„æ—¶å€™å†ä»bindingsä¸­å–å‡ºæå‰é¢„å®šä¹‰å¥½å®ä¾‹åŒ–çš„æ–¹å¼è¿›è¡Œå®ä¾‹åŒ–ï¼ˆå›ç­”Q3ã€Q6ï¼‰ã€‚</strong></li>
<li><strong>ç»Ÿä¸€å¤„ç†æˆåŒ¿åå‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>Illuminate\Foundation\Application</code>å®¹å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯ä¼ é€’ç»™makeçš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œç»Ÿä¸€å£å¾„æ–¹ä¾¿makeæ—¶å¤„ç†ï¼ˆå›ç­”Q3ï¼‰</strong>ã€‚å°±å¥½æ¯”æœ‰äº†SAPIæ¥å£è§„èŒƒï¼Œå°±èƒ½é€šè¿‡ä¸åŒçš„æ–¹å¼å®ç°PHPä¸å„ç§webæœåŠ¡å™¨æˆ–æœåŠ¡æ‰“äº¤é“ï¼Œæ¯”å¦‚CLIã€CGIå’ŒFastCGIéƒ½æ˜¯æ ¹æ®è§„èŒƒå®ç°çš„æ¨¡å—ã€‚</li>
</ul>
<p><strong>è®¾ç½®åˆ°bindingsæ˜¯ä¸ºäº†åœ¨makeçš„æ—¶å€™å¯ä»¥å–åˆ°é¢„å®šä¹‰çš„ç»‘å®šã€‚ï¼ˆå›ç­”Q4ï¼‰</strong></p>
<h4 id="a2">A2</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Register all of the configured providers.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">registerConfiguredProviders</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$providers</span> <span class="o">=</span> <span class="nx">Collection</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;app.providers&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                    <span class="o">-&gt;</span><span class="na">partition</span><span class="p">(</span><span class="nx">fn</span> <span class="p">(</span><span class="nv">$provider</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">str_starts_with</span><span class="p">(</span><span class="nv">$provider</span><span class="p">,</span> <span class="s1">&#39;Illuminate\\&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$providers</span><span class="o">-&gt;</span><span class="na">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nx">PackageManifest</span><span class="o">::</span><span class="na">class</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">providers</span><span class="p">()]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="k">new</span> <span class="nx">ProviderRepository</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Filesystem</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getCachedServicesPath</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="nv">$providers</span><span class="o">-&gt;</span><span class="na">collapse</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fireAppCallbacks</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">registeredCallbacks</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…³é”®ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">resolve</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$raiseEvents</span> <span class="o">=</span> <span class="k">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If an instance of the type is currently being managed as a singleton we&#39;ll
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// just return an existing instance instead of instantiating new instances
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// so the developer can keep using the same objects instance every time.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="nv">$needsContextualBuild</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$concrete</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getConcrete</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä¾‹å­b">ä¾‹å­B</h3>
<p>å®šä¹‰å¤„åœ¨ä¾‹å­Aå·²ç»è´´è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸é‡å¤è´´äº†ã€‚</p>
<p>è°ƒç”¨å¤„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">function_exists</span><span class="p">(</span><span class="s1">&#39;mix&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">     * Get the path to a versioned Mix file.
</span></span></span><span class="line"><span class="cl"><span class="sd">     *
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @param  string  $path
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @param  string  $manifestDirectory
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @return \Illuminate\Support\HtmlString|string
</span></span></span><span class="line"><span class="cl"><span class="sd">     *
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @throws \Exception
</span></span></span><span class="line"><span class="cl"><span class="sd">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">function</span> <span class="nf">mix</span><span class="p">(</span><span class="nv">$path</span><span class="p">,</span> <span class="nv">$manifestDirectory</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">app</span><span class="p">(</span><span class="nx">Mix</span><span class="o">::</span><span class="na">class</span><span class="p">)(</span><span class="o">...</span><span class="nx">func_get_args</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">function_exists</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">     * Get the available container instance.
</span></span></span><span class="line"><span class="cl"><span class="sd">     *
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @param  string|null  $abstract
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @param  array  $parameters
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @return \Illuminate\Contracts\Foundation\Application|\Illuminate\Foundation\Application|mixed
</span></span></span><span class="line"><span class="cl"><span class="sd">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">function</span> <span class="nf">app</span><span class="p">(</span><span class="nv">$abstract</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">Container</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">Container</span><span class="o">::</span><span class="na">getInstance</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»è¿‡singletonå¤„ç†ä»¥åï¼Œbindingsç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;Illuminate\Foundation\Mix&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;shared&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;concrete&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$container</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">(</span><span class="s1">&#39;Illuminate\Foundation\Mix&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„è¿™é‡Œçš„concreteåŒ¿åå‡½æ•°ä¸ºäº†æ¼”ç¤ºç¨åŠ å¤„ç†ã€‚</p>
</blockquote>
<p>å’Œä¾‹å­Aç±»ä¼¼ï¼Œä¸å¤šåšèµ˜è¿°ï¼Œåªè®²å·®å¼‚çš„åœ°æ–¹ã€‚</p>
<p>concreteåŒ¿åå‡½æ•°è¢«buildè°ƒç”¨ï¼Œç„¶ååˆæ‰§è¡ŒåŒ¿åå‡½æ•°ä¸­çš„buildï¼Œå³<code>\Illuminate\Foundation\Application::build</code>å³<code>\Illuminate\Container\Container::build</code>
ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$reflector</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ReflectionClass</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">ReflectionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="nx">BindingResolutionException</span><span class="p">(</span><span class="s2">&#34;Target class [</span><span class="si">$concrete</span><span class="s2">] does not exist.&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If the type is not instantiable, the developer is attempting to resolve
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// an abstract type such as an Interface or Abstract Class and there is
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// no binding registered for the abstractions so we need to bail out.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nv">$reflector</span><span class="o">-&gt;</span><span class="na">isInstantiable</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">notInstantiable</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nv">$constructor</span> <span class="o">=</span> <span class="nv">$reflector</span><span class="o">-&gt;</span><span class="na">getConstructor</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// If there are no constructors, that means there are no dependencies then
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// we can just resolve the instances of the objects right away, without
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// resolving any other types or dependencies out of these containers.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$constructor</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="nv">$concrete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ul>
<li>ç”¨ReflectionClassåå°„<code>Illuminate\Foundation\Mix</code>ç±»ã€‚</li>
<li>æ£€æŸ¥ç±»æ˜¯å¦å¯å®ä¾‹åŒ–ï¼Œä¸èƒ½å°±ä¼šæŠ›<code>Illuminate\Contracts\Container\BindingResolutionException</code>å¼‚å¸¸ã€‚</li>
<li>ç„¶åå†æ£€æŸ¥æ˜¯å¦æœ‰æ„é€ å‡½æ•°ï¼ŒMixç±»æ²¡æœ‰ï¼Œæ‰€ä»¥æœ€åç”¨newè¿›è¡Œå®ä¾‹åŒ–ã€‚
<ul>
<li>å¦‚æœæœ‰æ„é€ å‡½æ•°ä¼šæ€æ ·ï¼Ÿçœ‹æ¥ä¸‹æ¥çš„ä¾‹å­Cã€‚</li>
</ul>
</li>
</ul>
<p><strong>å¦‚æœä½ æä¾›çš„ç±»éå¸¸ç®€å•ï¼Œç”šè‡³éƒ½æ²¡æœ‰æ„é€ å‡½æ•°ï¼ŒæŠ½è±¡å³å…·ä½“ï¼Œè€Œä¸”éœ€è¦å•ä¾‹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨singletonåªä¼ ä¸€ä¸ªå‚æ•°ï¼ˆå›ç­”Q2ï¼‰ã€‚</strong></p>
<h3 id="ä¾‹å­c">ä¾‹å­C</h3>
<p>å®šä¹‰å¤„<code>Illuminate\Foundation\Configuration\ApplicationBuilder</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Register the standard kernel classes for the application.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return $this
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">withKernels</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nx">\Illuminate\Contracts\Http\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">\Illuminate\Foundation\Http\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nx">\Illuminate\Contracts\Console\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">\Illuminate\Foundation\Console\Kernel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è°ƒç”¨å¤„<code>Illuminate\Foundation\Application</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Contracts\Http\Kernel</span> <span class="k">as</span> <span class="nx">HttpKernelContract</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Handle the incoming HTTP request and send the response to the browser.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Illuminate\Http\Request  $request
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">handleRequest</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$kernel</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nx">HttpKernelContract</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$kernel</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="nv">$request</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$kernel</span><span class="o">-&gt;</span><span class="na">terminate</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nv">$response</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»è¿‡singletonå¤„ç†ä»¥åï¼Œbindingsç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;Illuminate\Contracts\Http\Kernel::class&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;shared&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;concrete&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$container</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">resolve</span><span class="p">(</span><span class="s1">&#39;Illuminate\Foundation\Http\Kernel&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="k">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„è¿™é‡Œçš„concreteåŒ¿åå‡½æ•°ä¸ºäº†æ¼”ç¤ºç¨åŠ å¤„ç†ã€‚</p>
</blockquote>
<p>çœ‹ä¸€çœ¼<code>Illuminate\Foundation\Http\Kernel</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Contracts\Foundation\Application</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Illuminate\Routing\Router</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd"> * Create a new HTTP kernel instance.
</span></span></span><span class="line"><span class="cl"><span class="sd"> *
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Illuminate\Contracts\Foundation\Application  $app
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @param  \Illuminate\Routing\Router  $router
</span></span></span><span class="line"><span class="cl"><span class="sd"> * @return void
</span></span></span><span class="line"><span class="cl"><span class="sd"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">Application</span> <span class="nv">$app</span><span class="p">,</span> <span class="nx">Router</span> <span class="nv">$router</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span> <span class="o">=</span> <span class="nv">$router</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">syncMiddlewareToRouter</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŒæ ·åªè®²å·®å¼‚çš„éƒ¨åˆ†ã€‚</p>
<p>å’Œä¾‹å­Aã€Bä¸€æ ·ï¼Œç»è¿‡make-&gt;resolveï¼ŒconcreteåŒ¿åå‡½æ•°è¢«buildè°ƒç”¨ã€‚</p>
<p>ç„¶åä¼šæ‰§è¡ŒåŒ¿åå‡½æ•°ä¸­çš„resolveï¼Œå³<code>Illuminate\Foundation\Application::resolve</code>ç„¶å<code>Illuminate\Container\Container::resolve</code>ï¼š</p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸‰ä¸ªå‚æ•°raiseEventsä¸ºfalseï¼Œä½œç”¨æ˜¯ä¸ä¼šç»è¿‡å¤´å°¾çš„é’©å­å‡½æ•°ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">protected</span> <span class="k">function</span> <span class="nf">resolve</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">,</span> <span class="nv">$parameters</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$raiseEvents</span> <span class="o">=</span> <span class="k">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">is_null</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$concrete</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getConcrete</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$object</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isBuildable</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">,</span> <span class="nv">$abstract</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">?</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">:</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">make</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isShared</span><span class="p">(</span><span class="nv">$abstract</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="nv">$needsContextualBuild</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">instances</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$object</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolved</span><span class="p">[</span><span class="nv">$abstract</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$object</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>Illuminate\Foundation\Http\Kernel</code>æœ€ç»ˆä¼šè¢«buildè°ƒç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">build</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$reflector</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ReflectionClass</span><span class="p">(</span><span class="nv">$concrete</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">ReflectionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="nx">BindingResolutionException</span><span class="p">(</span><span class="s2">&#34;Target class [</span><span class="si">$concrete</span><span class="s2">] does not exist.&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">buildStack</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$concrete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$constructor</span> <span class="o">=</span> <span class="nv">$reflector</span><span class="o">-&gt;</span><span class="na">getConstructor</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nv">$dependencies</span> <span class="o">=</span> <span class="nv">$constructor</span><span class="o">-&gt;</span><span class="na">getParameters</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Once we have all the constructor&#39;s parameters we can create each of the
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// dependency instances and then use the reflection instances to make a
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// new instance of this class, injecting the created dependencies in.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$instances</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resolveDependencies</span><span class="p">(</span><span class="nv">$dependencies</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">BindingResolutionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">array_pop</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">buildStack</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="nv">$e</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">array_pop</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">buildStack</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nv">$reflector</span><span class="o">-&gt;</span><span class="na">newInstanceArgs</span><span class="p">(</span><span class="nv">$instances</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŒºåˆ«ä¾‹å­Bçš„åœ°æ–¹åœ¨äºï¼Œè¿™æ¬¡æ˜¯æœ‰æ„é€ å‡½æ•°äº†ï¼Œè€Œä¸”æœ‰ä¸¤ä¸ªç±»å‚æ•°<code>Illuminate\Contracts\Foundation\Application</code>å’Œ<code>Illuminate\Routing\Router</code>ã€‚åœ¨ç»è¿‡ä¾èµ–æ³¨å…¥å¤„ç†ä»¥åï¼ˆä¾èµ–æ³¨å…¥ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒæ–‡å†…ï¼Œä¸è¿‡å¤šå¼€å±•ï¼‰ï¼Œä¼šå°†å®ä¾‹åŒ–å¥½çš„å‚æ•°ä¼ ç»™Kernelçš„åå°„ç±»çš„newInstanceArgsè¿›è¡Œå®ä¾‹åŒ–ã€‚</p>
<p>åˆ°è¿™é‡Œé˜…è¯»åŸºæœ¬ç»“æŸäº†ï¼Œä¸‰ç§æƒ…å†µåŸºæœ¬éƒ½èƒ½è¦†ç›–åˆ°å…³é”®çš„åœ°æ–¹ã€‚</p>
<p>å›ç­”ä¸€ä¸‹Q1çš„ç–‘é—®ï¼Œéœ€è¦ä»instancesåˆ é™¤æŠ½è±¡ç­”æ¡ˆå¾ˆæ˜æ˜¾ï¼Œå› ä¸ºmakeå®Œä»¥åä¼šå°†å®ä¾‹è®¾ç½®åˆ°instancesä¸­ã€‚è‡³äºä¸ºä»€ä¹ˆè¦ä»aliasesä¸­åˆ é™¤æŠ½è±¡ï¼Œæ˜¯å› ä¸ºmakeä¸­æœ‰ä»aliasesè·å–æŠ½è±¡ï¼Œè¿™ä¸ªå’Œaliasesçš„ä½œç”¨æœ‰å…³ï¼Œä¹Ÿä¸å¼€å±•äº†ï¼Œä¸åˆ çš„è¯è‚¯å®šä¼šå¹²æ‰°åˆ°makeçš„é€»è¾‘ã€‚</p>
<p>è‡³äºQ5ï¼Œæš‚æ—¶è¿˜æ²¡æ‰¾åˆ°ä¾‹å­ï¼Œç•™ç‚¹ä¼˜åŒ–ç©ºé—´ï¼ˆç‹—å¤´ï¼Œåé¢é‡åˆ°äº†å†åšè¡¥å……ï¼‰ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>singletonã€makeå¤§è‡´é€»è¾‘å’Œä½¿ç”¨è¿‡ç¨‹ï¼š</p>
<p>å°†ä½ æä¾›çš„æŠ½è±¡ï¼ˆabstractï¼‰å’Œå…·ä½“ï¼ˆconcreteï¼‰ï¼Œå°†å…·ä½“ç»Ÿä¸€å¤„ç†æˆåŒ¿åå‡½æ•°ï¼ˆClosureï¼‰ï¼Œç»‘å®šï¼ˆ<code>æŠ½è±¡ =&gt; å…·ä½“</code>ï¼‰åœ¨å®¹å™¨çš„bindingsæˆå‘˜å±æ€§ï¼ˆæ•°ç»„ï¼‰ä¸­ï¼Œåç»­ä½ æƒ³ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡makeè°ƒç”¨ï¼Œä»bindingså±æ€§ä¸­å–å‡ºåŒ¿åå‡½æ•°ï¼Œå¦‚æœåŒ¿åå‡½æ•°æ˜¯ä½ æä¾›çš„ï¼Œå°±æŒ‰ä½ å®šä¹‰çš„æ¥å®ä¾‹åŒ–ï¼Œå¦åˆ™ä¼šå…ˆåå°„è¯¥ç±»ï¼ˆReflectionClassï¼‰ï¼Œæ£€æŸ¥ç±»æ˜¯å¦å¯å®ä¾‹åŒ–ï¼ˆ<code>isInstantiable()</code>ï¼‰ï¼Œä¸èƒ½ä¼šæŠ›å¼‚å¸¸ï¼ˆBindingResolutionExceptionï¼‰ï¼Œå†æ£€æŸ¥æ˜¯å¦æœ‰æ„é€ å‡½æ•°ï¼ˆ<code>getConstructor()</code>ï¼‰ï¼Œæ²¡æœ‰ä¼šé€šè¿‡newå®ä¾‹åŒ–è¿”å›ï¼Œæœ‰åˆ™å†æ ¹æ®æ„é€ å‡½æ•°çš„å‚æ•°ï¼ˆ<code>getParameters()</code>ï¼‰é€šè¿‡ä¾èµ–æ³¨å…¥ï¼ˆ<code>resolveDependencies()</code>ï¼‰è§£å†³å‚æ•°ä¾èµ–é—®é¢˜ï¼Œæœ€åè°ƒç”¨åå°„ç±»çš„<code>newInstanceArgs()</code>çš„æ–¹å¼å®ä¾‹åŒ–ã€‚æœ€åå°†å®ä¾‹åŒ–çš„ç±»ï¼ˆ<code>æŠ½è±¡=&gt;å®ä¾‹</code>ï¼‰è®¾ç½®åˆ°å®¹å™¨çš„instancesæˆå‘˜å±æ€§ï¼ˆæ•°ç»„ï¼‰ä¸­ï¼Œå¹¶ä¸”å°†resolvedæˆå‘˜å±æ€§ï¼ˆæ•°ç»„ï¼‰ä¸­å°†æŠ½è±¡æ ‡è®°ä¸ºtrueï¼Œä»£è¡¨ç€è¯¥æŠ½è±¡å·²å®Œæˆäº†å®ä¾‹åŒ–å¤„ç†ï¼Œä¸‹æ¬¡å†makeæ—¶å¯ä»¥ç›´æ¥ä»instancesï¼ˆé€šè¿‡issetè¯¥å±æ€§æ¥åˆ¤æ–­ï¼‰ä¸­å–å‡ºã€‚</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/php/">PHP</a>
        
            <a href="/tags/laravel/">Laravel</a>
        
            <a href="/tags/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/">æºç é˜…è¯»</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://unpkg.com/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://unpkg.com/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://unpkg.com/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/language/php/hyperf/hyperf-constants/">
        
        
            <div class="article-image">
                
                    <img src="https://ghjayce.github.io/asset/blog/FhYnPBeIezDAGMZ0BQgUMjAyNDAzMDFfMTU0NzE4.jpeg" loading="lazy" data-key="language/php/hyperf/hyperf-constants" data-hash="https://ghjayce.github.io/asset/blog/FhYnPBeIezDAGMZ0BQgUMjAyNDAzMDFfMTU0NzE4.jpeg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">hyperf constantså®ç°æœºåˆ¶</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/language/php/laravel/homestead-install/">
        
        
            <div class="article-image">
                
                    <img src="https://ghjayce.github.io/asset/blog/acN7lrfIQy4GU6zANY9bMjAxODEwMDZfMjA0MDQx.jpeg" loading="lazy" data-key="language/php/laravel/homestead-install" data-hash="https://ghjayce.github.io/asset/blog/acN7lrfIQy4GU6zANY9bMjAxODEwMDZfMjA0MDQx.jpeg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Homesteadç¯å¢ƒæ­å»º</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/language/php/composer/repositories-not-found-version/">
        
        

        <div class="article-details">
            <h2 class="article-title">composerå›½å†…æºæ‰¾ä¸åˆ°åŒ…ç‰ˆæœ¬çš„è§£å†³æ–¹æ³•</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/static-site-generator/hugo/hugo-theme-stack-gallery-study/">
        
        
            <div class="article-image">
                
                    <img src="https://ghjayce.github.io/asset/blog/z4EOqI2zCdlD5ce5EawUMjAyNDAyMjVfMTU1MjIy.png" loading="lazy" data-key="static-site-generator/hugo/hugo-theme-stack-gallery-study" data-hash="https://ghjayce.github.io/asset/blog/z4EOqI2zCdlD5ce5EawUMjAyNDAyMjVfMTU1MjIy.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo Theme Stackå›¾åº“æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿæ€æ ·æ‰èƒ½æ”¯æŒå¤–é“¾å›¾ç‰‡ï¼Ÿ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/language/php/exception/error-capture/">
        
        
            <div class="article-image">
                
                    <img src="https://ghjayce.github.io/asset/blog/mwZTYxkP4GSsgLbC5aXaMjAxNzExMTZfMTYzODM0.jpeg" loading="lazy" data-key="language/php/exception/error-capture" data-hash="https://ghjayce.github.io/asset/blog/mwZTYxkP4GSsgLbC5aXaMjAxNzExMTZfMTYzODM0.jpeg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">PHPæŠ¥é”™è§£æå’Œå¦‚ä½•æ•è·é”™è¯¯ä¿¡æ¯</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2024 GHJayce
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.21.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://unpkg.com/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://unpkg.com/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://unpkg.com/photoswipe@4.1.3/dist/default-skin/default-skin.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://unpkg.com/photoswipe@4.1.3/dist/photoswipe.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://unpkg.com/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
